# 🎮 **VAGABONDS & VALLEYS - WORKSPACE QODO**\n\n## 📋 **VISÃO GERAL DO PROJETO**\n\n**Vagabonds & Valleys** é um jogo de estratégia por turnos em tabuleiro hexagonal desenvolvido em **Godot 4.4**. O projeto passou por uma **refatoração arquitetural massiva** (90+ sessões) transformando um protótipo em um sistema enterprise-grade.\n\n### 🎯 **STATUS ATUAL**\n- **✅ SISTEMA FUNCIONAL**: Jogo completamente jogável\n- **🔄 FASE 6 EM PROGRESSO**: Correções críticas para production-ready\n- **📊 PROGRESSO**: 85% error handling, 40% cobertura testes, 0 magic numbers\n\n---\n\n## 🚨 **REGRAS CRÍTICAS**\n\n### ⚠️ **LOCALIZAÇÃO DE ARQUIVOS**\n1. **🚨 NUNCA CRIAR ARQUIVOS NA RAIZ** → Usar apenas SKETCH/ e .qodo/\n2. **SKETCH/**: Todo código, testes, assets e cenas\n3. **.qodo/**: Documentação, configurações, memórias e análises\n4. **i.txt é UNIDIRECIONAL**: Apenas usuário escreve, Qodo lê\n\n### 📋 **PROTOCOLOS DE DESENVOLVIMENTO**\n- **Diretor Criativo**: Usuário (define diretrizes e visão)\n- **Executor Técnico**: Qodo (implementa e otimiza)\n- **REGRA CRÍTICA**: PARE E PERGUNTE quando encontrar ambiguidades\n- **Preservar funcionalidades**: Nunca quebrar sistemas existentes\n\n---\n\n## 📁 **ESTRUTURA DO WORKSPACE**\n\n### 📚 **DOCUMENTAÇÃO PRINCIPAL**\n- **`PROJECT_ARCHITECTURE.md`** → Arquitetura completa e referência técnica\n- **`CRITICAL_REFACTOR_ROADMAP.md`** → Status da refatoração e próximos passos\n- **`HISTORICO_CORRECOES_TECNICAS.md`** → Todas as correções aplicadas\n- **`00_session_diary.md`** → Histórico de 90+ sessões de desenvolvimento\n\n### ⚙️ **CONFIGURAÇÃO**\n- **`config.yaml`** → Configuração do workspace Qodo\n- **`godot_rules.json`** → Regras específicas do Godot e GDScript\n- **`partnership_protocol.md`** → Protocolos de colaboração\n\n### 📋 **REGRAS E PROTOCOLOS**\n- **`REGRA_CRITICA_LOCALIZACAO_ARQUIVOS.md`** → Regra fundamental de organização\n\n---\n\n## 🎮 **COMO EXECUTAR O JOGO**\n\n### 🚀 **Comandos Básicos**\n```bash\n# Jogo padrão (6 domínios)\ngodot --path SKETCH scenes/main_game.tscn\n\n# Jogo pequeno (2 domínios)\ngodot --path SKETCH scenes/main_game.tscn --domain-count=2\n\n# Jogo médio (4 domínios)\ngodot --path SKETCH scenes/main_game.tscn --domain-count=4\n```\n\n### 🎯 **FEATURE PRINCIPAL: Sistema de Zoom de Duas Etapas**\n1. **Primeira scroll na estrela** → Centraliza câmera e cursor\n2. **Segunda scroll na mesma estrela** → Aplica zoom mantendo foco\n3. **Scroll em estrela diferente** → Centraliza na nova estrela\n4. **Clique esquerdo** → Reset do modo zoom\n\n---\n\n## 🏗️ **ARQUITETURA DO SISTEMA**\n\n### 🎯 **SISTEMAS PRINCIPAIS**\n- **HexGrid**: Sistema hexagonal com renderização otimizada\n- **StarMapper**: Mapeamento de estrelas e posições\n- **GameManager**: Gerenciamento de entidades (Units/Domains)\n- **GameController**: Orquestração de alto nível\n- **TurnManager**: Sistema de turnos\n- **ObjectPool**: Reutilização de objetos para performance\n\n### 🔧 **SISTEMAS DE SUPORTE**\n- **EventBus**: Comunicação desacoplada\n- **Logger**: Sistema de logging condicional\n- **Config**: Configurações centralizadas\n- **Result<T>**: Error handling robusto\n- **TestFramework**: Framework de testes\n\n---\n\n## 📊 **PROGRESSO DA REFATORAÇÃO**\n\n### ✅ **CONCLUÍDO (FASES 1-5)**\n- **Arquitetura Modular**: main_game.gd 700+ → 200 linhas\n- **Separação de Responsabilidades**: Managers extraídos\n- **Performance**: ObjectPool, EventBus, Cache implementados\n- **Documentação**: Guias completos e organizados\n\n### 🔄 **EM PROGRESSO (FASE 6)**\n- **Error Handling**: 85% concluído (Result<T> pattern)\n- **Config System**: 90% integrado (magic numbers eliminados)\n- **Testes**: 40% cobertura (meta: 80%)\n- **Parsing**: 100% dos erros corrigidos\n\n### 📋 **PRÓXIMO (FASE 7)**\n- **Interfaces**: Implementação completa\n- **Profiling**: Sistema de monitoramento\n- **Memory Leak Detection**: Prevenção automática\n- **Testes de Integração**: Cobertura completa\n\n---\n\n## 🎯 **CRITÉRIOS PRODUCTION-READY**\n\n### **Técnicos**\n- [ ] 80%+ cobertura de testes\n- [x] Error handling em operações críticas\n- [x] Config system 100% integrado\n- [ ] Interfaces implementadas e utilizadas\n- [ ] Memory leaks < 1MB/hora\n\n### **Qualidade**\n- [x] Complexidade ciclomática < 15 por função\n- [ ] Acoplamento instável < 0.4\n- [x] Zero magic numbers\n- [x] Documentação 100% atualizada\n\n### **Performance**\n- [ ] 60 FPS estáveis por 8+ horas\n- [ ] Tempo de carregamento < 3s\n- [ ] Memory usage < 150MB\n- [ ] Profiling automático ativo\n\n---\n\n## 📈 **MÉTRICAS DE PROGRESSO**\n\n| Aspecto | Antes | Atual | Meta | Status |\n|---------|-------|-------|------|--------|\n| Error Handling | 5% | 85% | 95% | 🟢 |\n| Cobertura Testes | 15% | 40% | 80% | 🟡 |\n| Magic Numbers | 20+ | 0 | 0 | ✅ |\n| Config Integration | 20% | 90% | 95% | 🟢 |\n| Parsing Errors | 6 | 0 | 0 | ✅ |\n\n---\n\n## 🚀 **PRÓXIMOS PASSOS**\n\n### **Imediato**\n1. Completar implementação de interfaces\n2. Expandir cobertura de testes para 60%+\n3. Implementar sistema de profiling básico\n4. Memory leak detection\n\n### **Médio Prazo**\n1. Testes de integração completos\n2. Performance benchmarks\n3. Refatoração de singletons\n4. Deployment pipeline\n\n### **Longo Prazo**\n1. Monitoring em produção\n2. CI/CD completo\n3. Documentação para usuários finais\n4. Release preparation\n\n---\n\n## 📞 **REFERÊNCIAS RÁPIDAS**\n\n### 🔍 **Para Dúvidas Técnicas**\n- **Arquitetura**: `PROJECT_ARCHITECTURE.md`\n- **Status**: `CRITICAL_REFACTOR_ROADMAP.md`\n- **Correções**: `HISTORICO_CORRECOES_TECNICAS.md`\n\n### 📋 **Para Protocolos**\n- **Colaboração**: `partnership_protocol.md`\n- **Regras Godot**: `godot_rules.json`\n- **Localização**: `REGRA_CRITICA_LOCALIZACAO_ARQUIVOS.md`\n\n### 📚 **Para Histórico**\n- **Sessões**: `00_session_diary.md`\n- **Configuração**: `config.yaml`\n\n---\n\n**🎯 OBJETIVO**: Transformar V&V em um jogo production-ready de alta qualidade  \n**⏰ PRAZO**: 2-3 semanas para conclusão da Fase 6-8  \n**🎉 CONQUISTA**: Fundações sólidas estabelecidas, sistema robusto e funcional  \n\n---\n\n*\"De um protótipo simples para uma arquitetura enterprise-grade através de refatoração sistemática e desenvolvimento colaborativo.\"* 🎮✨\n"