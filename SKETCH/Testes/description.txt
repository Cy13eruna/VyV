# Rhombille Tiling (Ladrilhamento Rhombille)

## O que é Rhombille Tiling?

O Rhombille Tiling é um tipo especial de ladrilhamento (tessellation) do plano que utiliza três tipos diferentes de losangos (rhombi) para cobrir completamente uma superfície sem sobreposições ou lacunas.

## Características Principais

### Composição
- **Três tipos de losangos**: O padrão é formado por três tipos distintos de losangos com diferentes ângulos
- **Ângulos específicos**: Os losangos possuem ângulos de 60°, 120° e combinações que permitem o encaixe perfeito
- **Simetria hexagonal**: O padrão possui simetria de ordem 6, relacionada à estrutura hexagonal

### Propriedades Geométricas
- **Periodicidade**: O padrão se repete de forma regular e previsível
- **Densidade uniforme**: Cada tipo de losango aparece com a mesma frequência no padrão
- **Conectividade**: Cada vértice é compartilhado por exatamente 6 losangos

## Aplicações e Importância

### Matemática
- Estudo de tessellations e geometria plana
- Teoria dos grupos de simetria
- Análise de padrões periódicos

### Cristalografia
- Modelagem de estruturas cristalinas
- Representação de arranjos atômicos em materiais
- Estudo de quasicristais

### Design e Arte
- Padrões decorativos em arquitetura
- Design gráfico e arte digital
- Criação de texturas e backgrounds

### Computação Gráfica
- Geração procedural de texturas
- Algoritmos de tessellation
- Sistemas de coordenadas hexagonais

## Relação com Outros Padrões

O Rhombille Tiling está intimamente relacionado com:
- **Tessellation hexagonal**: Pode ser derivado da divisão de hexágonos
- **Padrão de Penrose**: Compartilha propriedades de quasiperiodicidade em algumas variações
- **Lattice triangular**: Base geométrica para sua construção

## Construção Matemática

O padrão pode ser construído através de:
1. **Método de projeção**: Projeção de uma grade cúbica em 3D
2. **Método de substituição**: Aplicação de regras de substituição em padrões menores
3. **Método geométrico**: Construção direta usando compassos e réguas

## Propriedades Especiais

- **Isotropia local**: Propriedades similares em todas as direções localmente
- **Aperiodicity**: Algumas variações não possuem periodicidade estrita
- **Self-similarity**: Partes do padrão são similares ao todo em diferentes escalas

---

Este tipo de ladrilhamento é fundamental para compreender estruturas complexas tanto na matemática pura quanto em aplicações práticas em física, química e ciência da computação.

## Implementação - Função de Desenho do Rhombille

**Fonte:** HexStrategy/Client/Scripts/SimpleGame.gd

```gdscript
func draw_diamond_path_simple(from: Vector2, to: Vector2, fill_color: Color):
	# Create diamond shape that fits within triangular areas
	var center = (from + to) / 2.0
	var direction = (to - from).normalized()
	var perpendicular = Vector2(-direction.y, direction.x)
	var distance = from.distance_to(to)
	# CORRECTED: Triangles have vertices at node CENTERS (confirmed by Ezert)
	# For equilateral triangle with side = distance:
	# - Height = distance * sqrt(3) / 2
	# - Distance from vertex to centroid = (2/3) * height = distance * sqrt(3) / 3
	# - Diamond width = distance from centroid to opposite side = distance / (2 * sqrt(3))
	var diamond_width = distance / (2.0 * sqrt(3.0))
	
	# Diamond vertices with sharp points exactly at node centers
	var outer_vertices = PackedVector2Array()
	outer_vertices.append(from)  # Sharp point exactly at 'from' node center
	outer_vertices.append(center + perpendicular * diamond_width)
	outer_vertices.append(to)    # Sharp point exactly at 'to' node center
	outer_vertices.append(center - perpendicular * diamond_width)
	
	# Draw diamond without margin - clean solid color
	draw_colored_polygon(outer_vertices, fill_color)
```

### Explicação da Função

Esta função desenha um losango (diamond) que conecta dois pontos, criando o padrão característico do Rhombille Tiling:

1. **Cálculo do Centro**: O centro do losango é o ponto médio entre os dois nós
2. **Direção e Perpendicular**: Calcula a direção da linha e seu vetor perpendicular
3. **Largura do Losango**: Usa a fórmula matemática baseada em triângulos equiláteros
4. **Vértices**: Cria 4 vértices que formam o losango com pontas exatas nos centros dos nós
5. **Renderização**: Desenha o polígono preenchido com a cor especificada

### Contexto de Uso

Esta função é chamada no contexto de um jogo hexagonal onde:
- `from` e `to` são posições de nós hexagonais
- `fill_color` determina se o caminho está bloqueado (branco) ou aberto (cinza)
- Os losangos formam o padrão visual do Rhombille Tiling entre os nós hexagonais

### Fórmula Matemática Chave

A largura do losango é calculada usando a fórmula:
```
diamond_width = distance / (2.0 * sqrt(3.0))
```

Esta fórmula garante que o losango se encaixe perfeitamente dentro dos triângulos equiláteros formados pelos nós hexagonais, criando o padrão geométrico correto do Rhombille Tiling.